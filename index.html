<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Ù…Ø®ØªØ¨Ø± Ø£Ø¨Ùˆ Ø³Ù…Ø±Ø© Ø§Ù„Ø´Ø§Ù…Ù„ | Abu Samra Lab</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        /* =========================================
           1. Ø§Ù„ØªØµÙ…ÙŠÙ… (CSS)
           ========================================= */
        :root {
            --bg-dark: #0f0f13; --panel-bg: #1a1a20; --gold: #d4af37; --text-main: #f0f0f0;
            --accent-blue: #00d2ff; --accent-red: #e74c3c; --safe-area-bottom: env(safe-area-inset-bottom);
        }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Cairo', sans-serif; -webkit-tap-highlight-color: transparent; user-select: none; }
        body { background-color: var(--bg-dark); color: var(--text-main); height: 100vh; height: 100dvh; display: flex; flex-direction: column; overflow: hidden; }

        /* Ø§Ù„ØªÙ‚ÙŠÙŠÙ… */
        .rating-section { background: linear-gradient(180deg, #19191e, #141419); padding: 10px; text-align: center; border-bottom: 1px solid #333; z-index: 20; }
        .rating-title { color: var(--gold); font-weight: 800; font-size: 0.9rem; margin-bottom: 5px; }
        .stars { display: flex; justify-content: center; gap: 8px; direction: ltr; margin-bottom: 5px; }
        .stars i { font-style: normal; font-size: 1.3rem; cursor: pointer; color: #444; transition: 0.2s; }
        .stars i.active { color: var(--gold); transform: scale(1.1); text-shadow: 0 0 5px var(--gold); }
        .rating-input-group { display: flex; gap: 5px; max-width: 400px; margin: auto; }
        .rating-input { flex: 1; padding: 6px 12px; border-radius: 15px; border: 1px solid #444; background: #000; color: #fff; outline: none; font-size: 0.8rem; }
        .send-btn { background: var(--gold); color: #000; border: none; padding: 0 15px; border-radius: 15px; font-weight: bold; cursor: pointer; font-size: 0.8rem; }

        /* Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª */
        .tabs-container { display: flex; overflow-x: auto; padding: 10px; background: #15151a; gap: 8px; border-bottom: 1px solid #333; scrollbar-width: none; }
        .tabs-container::-webkit-scrollbar { display: none; }
        .tab-btn { padding: 6px 12px; border-radius: 15px; background: #2c2c35; color: #aaa; border: 1px solid #333; white-space: nowrap; font-size: 0.8rem; cursor: pointer; transition: 0.3s; }
        .tab-btn.active { background: var(--gold); color: #000; font-weight: bold; border-color: var(--gold); box-shadow: 0 0 8px rgba(212, 175, 55, 0.2); }

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        #content-area { flex: 1; overflow-y: auto; padding: 10px; padding-bottom: 210px; }
        .grid-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); gap: 6px; }
        .item-card { background: #222; border: 1px solid #333; border-radius: 10px; padding: 5px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; height: 80px; position: relative; }
        .item-card:active { transform: scale(0.95); border-color: var(--gold); }
        .chem-symbol { font-size: 1.1rem; font-weight: 900; color: var(--gold); line-height: 1; margin-bottom: 3px; }
        .chem-name { font-size: 0.6rem; color: #ccc; line-height: 1.1; word-break: break-word; }
        .chem-number { position: absolute; top: 2px; left: 4px; font-size: 0.5rem; color: #666; }

        .cat-acid { border-top: 2px solid #e74c3c; }
        .cat-base { border-top: 2px solid #3498db; }
        .cat-salt { border-top: 2px solid #ecf0f1; }
        .cat-comp { border-top: 2px solid #9b59b6; }

        /* Ø·Ø§ÙˆÙ„Ø© Ø§Ù„Ø¹Ù…Ù„ */
        .workbench { position: fixed; bottom: 0; left: 0; width: 100%; height: 200px; background: rgba(15, 15, 19, 0.98); border-top: 2px solid var(--gold); backdrop-filter: blur(10px); z-index: 50; display: flex; flex-direction: column; padding-bottom: var(--safe-area-bottom); box-shadow: 0 -5px 20px rgba(0,0,0,0.5); }
        .wb-header { display: flex; justify-content: space-between; align-items: center; padding: 8px 15px; border-bottom: 1px solid #333; background: rgba(255,255,255,0.02); }
        .wb-title { font-size: 0.85rem; color: #aaa; font-weight: 600; }
        .btn-clean { background: #e74c3c; color: #fff; border: none; padding: 5px 12px; border-radius: 12px; font-size: 0.75rem; font-weight: bold; }
        .btn-react { background: var(--gold); color: #000; border: none; padding: 5px 12px; border-radius: 12px; font-weight: bold; font-size: 0.75rem; box-shadow: 0 0 10px rgba(212,175,55,0.3); }

        .wb-surface { flex: 1; display: flex; align-items: center; justify-content: flex-start; overflow-x: auto; padding: 10px 15px; gap: 12px; }

        /* Ø§Ù„Ø¨ÙŠÙƒØ± ÙˆØ§Ù„Ù†ØªÙŠØ¬Ø© */
        .beaker { min-width: 55px; height: 75px; background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.3); border-top: none; border-radius: 0 0 12px 12px; position: relative; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #fff; font-size: 0.75rem; animation: popIn 0.3s ease; }
        .liquid-fill { position: absolute; bottom: 0; left: 0; width: 100%; height: 50%; background: var(--accent-blue); opacity: 0.7; border-radius: 0 0 10px 10px; z-index: -1; }
        .smoke { position: absolute; top: -25px; left: 50%; transform: translateX(-50%); width: 30px; height: 30px; background: rgba(200,200,200,0.3); filter: blur(8px); border-radius: 50%; animation: smokeRise 2s infinite; }
        @keyframes smokeRise { 0% { transform: translate(-50%, 0) scale(1); opacity: 0.4; } 100% { transform: translate(-50%, -50px) scale(2); opacity: 0; } }
        @keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }

        .result-container { width: 100%; height: 100%; display: flex; align-items: center; justify-content: space-around; padding: 0 10px; animation: fadeIn 0.5s ease; }
        .result-info { text-align: right; display: flex; flex-direction: column; justify-content: center; flex: 1; }
        .res-name { color: var(--gold); font-size: 1rem; font-weight: 900; margin-bottom: 4px; }
        .res-eq { color: #eee; font-family: monospace; font-size: 0.8rem; direction: ltr; background: rgba(0,0,0,0.4); padding: 4px 8px; border-radius: 6px; border: 1px solid #444; display: inline-block; }
        .beaker-large { min-width: 80px; height: 110px; border-width: 3px; border-radius: 0 0 20px 20px; font-size: 1.1rem; margin-right: 15px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .toast { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.95); color: var(--gold); padding: 12px 25px; border-radius: 10px; border: 1px solid var(--gold); z-index: 100; display: none; text-align: center; font-weight: bold; font-size: 0.9rem; }
    </style>
</head>
<body>

    <div class="rating-section">
        <div class="rating-title">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø®ØªØ¨Ø±</div>
        <div class="stars">
            <i data-val="1">â˜…</i><i data-val="2">â˜…</i><i data-val="3">â˜…</i><i data-val="4">â˜…</i><i data-val="5">â˜…</i>
        </div>
        <div class="rating-input-group">
            <input type="text" class="rating-input" id="rating-text" placeholder="Ø±Ø£ÙŠÙƒ...">
            <button class="send-btn" onclick="sendRating()">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
    </div>

    <div class="tabs-container">
        <button class="tab-btn active" onclick="switchTab('elements')">Ø§Ù„Ø¹Ù†Ø§ØµØ± (118)</button>
        <button class="tab-btn" onclick="switchTab('compounds')">Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª (80+)</button>
        <button class="tab-btn" onclick="switchTab('acids')">Ø§Ù„Ø£Ø­Ù…Ø§Ø¶</button>
        <button class="tab-btn" onclick="switchTab('bases')">Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯</button>
        <button class="tab-btn" onclick="switchTab('salts')">Ø§Ù„Ø£Ù…Ù„Ø§Ø­</button>
    </div>

    <div id="content-area">
        <div id="grid-display" class="grid-container"></div>
    </div>

    <div class="workbench">
        <div class="wb-header">
            <span class="wb-title">Ø·Ø§ÙˆÙ„Ø© Ø§Ù„Ø¹Ù…Ù„ ğŸ§ª</span>
            <div>
                <button class="btn-clean" onclick="cleanBench()">ØªÙ†Ø¸ÙŠÙ</button>
                <button class="btn-react" onclick="doReaction()">ØªÙØ§Ø¹Ù„</button>
            </div>
        </div>
        <div class="wb-surface" id="wb-surface">
            <div id="empty-msg" style="color:#666; font-size:0.75rem; margin:auto;">Ø£Ø¶Ù Ø§Ù„Ù…ÙˆØ§Ø¯ Ù„Ù„Ø¨Ø¯Ø¡</div>
        </div>
    </div>

    <div class="toast" id="toast-msg"></div>

    <script>
        // ==========================================
        // âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Discord Webhook
        // ==========================================
        const DISCORD_WEBHOOK = "https://discordapp.com/api/webhooks/1473832968249151600/U8YWvMT4UFMLhexDJ1H8AW5aG6oUFT-a1M80GYaNqNQ52FiAcXrsHiltpFDG9ISLuADT";

        // ==========================================
        // ğŸ—„ï¸ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¶Ø®Ù…Ø© (Expanded DB)
        // ==========================================
        
        // 1. Ø§Ù„Ø¹Ù†Ø§ØµØ± (118)
        const elementsDB = [];
        const knownEls = [
            {n:1,s:'H',m:'Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†'},{n:2,s:'He',m:'Ù‡ÙŠÙ„ÙŠÙˆÙ…'},{n:3,s:'Li',m:'Ù„ÙŠØ«ÙŠÙˆÙ…'},{n:4,s:'Be',m:'Ø¨ÙŠØ±ÙŠÙ„ÙŠÙˆÙ…'},{n:5,s:'B',m:'Ø¨ÙˆØ±ÙˆÙ†'},
            {n:6,s:'C',m:'ÙƒØ±Ø¨ÙˆÙ†'},{n:7,s:'N',m:'Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†'},{n:8,s:'O',m:'Ø£ÙƒØ³Ø¬ÙŠÙ†'},{n:9,s:'F',m:'ÙÙ„ÙˆØ±'},{n:10,s:'Ne',m:'Ù†ÙŠÙˆÙ†'},
            {n:11,s:'Na',m:'ØµÙˆØ¯ÙŠÙˆÙ…'},{n:12,s:'Mg',m:'Ù…ØºÙ†ÙŠØ³ÙŠÙˆÙ…'},{n:13,s:'Al',m:'Ø£Ù„Ù…Ù†ÙŠÙˆÙ…'},{n:14,s:'Si',m:'Ø³ÙŠÙ„ÙŠÙƒÙˆÙ†'},{n:15,s:'P',m:'ÙÙˆØ³ÙÙˆØ±'},
            {n:16,s:'S',m:'ÙƒØ¨Ø±ÙŠØª'},{n:17,s:'Cl',m:'ÙƒÙ„ÙˆØ±'},{n:18,s:'Ar',m:'Ø£Ø±Ø¬ÙˆÙ†'},{n:19,s:'K',m:'Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…'},{n:20,s:'Ca',m:'ÙƒØ§Ù„Ø³ÙŠÙˆÙ…'},
            {n:26,s:'Fe',m:'Ø­Ø¯ÙŠØ¯'},{n:29,s:'Cu',m:'Ù†Ø­Ø§Ø³'},{n:30,s:'Zn',m:'Ø²Ù†Ùƒ'},{n:47,s:'Ag',m:'ÙØ¶Ø©'},{n:79,s:'Au',m:'Ø°Ù‡Ø¨'},
            {n:80,s:'Hg',m:'Ø²Ø¦Ø¨Ù‚'},{n:82,s:'Pb',m:'Ø±ØµØ§Øµ'},{n:53,s:'I',m:'ÙŠÙˆØ¯'},{n:35,s:'Br',m:'Ø¨Ø±ÙˆÙ…'},{n:56,s:'Ba',m:'Ø¨Ø§Ø±ÙŠÙˆÙ…'}
        ];
        for(let i=1; i<=118; i++){
            let f = knownEls.find(e=>e.n===i);
            elementsDB.push(f ? {s:f.s, nm:f.m, n:i, type:'el'} : {s:'E'+i, nm:'Ø¹Ù†ØµØ± '+i, n:i, type:'el'});
        }

        // 2. Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª (80+)
        const compoundsDB = [
            {s:'Hâ‚‚O',nm:'Ù…Ø§Ø¡'},{s:'COâ‚‚',nm:'Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ ÙƒØ±Ø¨ÙˆÙ†'},{s:'NaCl',nm:'Ù…Ù„Ø­ Ø·Ø¹Ø§Ù…'},{s:'NHâ‚ƒ',nm:'Ø£Ù…ÙˆÙ†ÙŠØ§'},{s:'CHâ‚„',nm:'Ù…ÙŠØ«Ø§Ù†'},
            {s:'Câ‚†Hâ‚â‚‚Oâ‚†',nm:'Ø¬Ù„ÙˆÙƒÙˆØ²'},{s:'CaO',nm:'Ø¬ÙŠØ± Ø­ÙŠ'},{s:'Feâ‚‚Oâ‚ƒ',nm:'ØµØ¯Ø£'},{s:'SiOâ‚‚',nm:'Ø±Ù…Ù„'},{s:'SOâ‚‚',nm:'Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ ÙƒØ¨Ø±ÙŠØª'},
            {s:'CO',nm:'Ø£ÙˆÙ„ Ø£ÙƒØ³ÙŠØ¯ ÙƒØ±Ø¨ÙˆÙ†'},{s:'Oâ‚ƒ',nm:'Ø£ÙˆØ²ÙˆÙ†'},{s:'Hâ‚‚Oâ‚‚',nm:'Ø¨ÙŠØ±ÙˆÙƒØ³ÙŠØ¯'},{s:'NOâ‚‚',nm:'Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†'},{s:'Nâ‚‚O',nm:'ØºØ§Ø² Ø§Ù„Ø¶Ø­Ùƒ'},
            {s:'MgO',nm:'Ø£ÙƒØ³ÙŠØ¯ Ù…Ø§ØºÙ†Ø³ÙŠÙˆÙ…'},{s:'Agâ‚‚O',nm:'Ø£ÙƒØ³ÙŠØ¯ ÙØ¶Ø©'},{s:'CuO',nm:'Ø£ÙƒØ³ÙŠØ¯ Ù†Ø­Ø§Ø³'},{s:'ZnO',nm:'Ø£ÙƒØ³ÙŠØ¯ Ø²Ù†Ùƒ'},{s:'Alâ‚‚Oâ‚ƒ',nm:'Ø£Ù„ÙˆÙ…ÙŠÙ†Ø§'},
            {s:'PbO',nm:'Ø£ÙƒØ³ÙŠØ¯ Ø±ØµØ§Øµ'},{s:'TiOâ‚‚',nm:'ØªÙŠØªØ§Ù†ÙŠÙˆÙ…'},{s:'MnOâ‚‚',nm:'Ù…Ù†Ø¬Ù†ÙŠØ²'},{s:'Hâ‚‚S',nm:'ÙƒØ¨Ø±ÙŠØªÙŠØ¯ Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†'},{s:'PHâ‚ƒ',nm:'ÙÙˆØ³ÙÙŠÙ†'},
            {s:'SOâ‚ƒ',nm:'Ø«Ø§Ù„Ø« Ø£ÙƒØ³ÙŠØ¯ ÙƒØ¨Ø±ÙŠØª'},{s:'Pâ‚‚Oâ‚…',nm:'Ø®Ø§Ù…Ø³ Ø£ÙƒØ³ÙŠØ¯ ÙÙˆØ³ÙÙˆØ±'},{s:'OFâ‚‚',nm:'ÙÙ„ÙˆØ±ÙŠØ¯ Ø£ÙƒØ³Ø¬ÙŠÙ†'},{s:'SFâ‚†',nm:'Ø³Ø¯Ø§Ø³ÙŠ ÙÙ„ÙˆØ±ÙŠØ¯ ÙƒØ¨Ø±ÙŠØª'},
            {s:'CClâ‚„',nm:'Ø±Ø§Ø¨Ø¹ ÙƒÙ„ÙˆØ±ÙŠØ¯ ÙƒØ±Ø¨ÙˆÙ†'},{s:'CSâ‚‚',nm:'Ø«Ø§Ù†ÙŠ ÙƒØ¨Ø±ÙŠØªÙŠØ¯ ÙƒØ±Ø¨ÙˆÙ†'},{s:'Câ‚‚Hâ‚‚,',nm:'Ø£Ø³ØªÙŠÙ„ÙŠÙ†'},{s:'Câ‚‚Hâ‚„',nm:'Ø¥ÙŠØ«ÙŠÙ„ÙŠÙ†'},{s:'Câ‚†Hâ‚†',nm:'Ø¨Ù†Ø²ÙŠÙ† Ø¹Ø·Ø±ÙŠ'},
            {s:'Câ‚‚Hâ‚…OH',nm:'Ø¥ÙŠØ«Ø§Ù†ÙˆÙ„'},{s:'CHâ‚ƒOH',nm:'Ù…ÙŠØ«Ø§Ù†ÙˆÙ„'},{s:'Câ‚ƒHâ‚ˆ',nm:'Ø¨Ø±ÙˆØ¨Ø§Ù†'},{s:'Câ‚„Hâ‚â‚€',nm:'Ø¨ÙˆØªØ§Ù†'},{s:'CHâ‚ƒCOCHâ‚ƒ',nm:'Ø£Ø³ÙŠØªÙˆÙ†'},
            {s:'CHClâ‚ƒ',nm:'ÙƒÙ„ÙˆØ±ÙˆÙÙˆØ±Ù…'},{s:'Câ‚â‚‚Hâ‚‚â‚‚Oâ‚â‚',nm:'Ø³ÙƒØ±'},{s:'NaHCOâ‚ƒ',nm:'Ø¨ÙŠÙƒÙ†Ø¬ ØµÙˆØ¯Ø§'},{s:'Naâ‚‚COâ‚ƒ',nm:'ØµÙˆØ¯Ø§ ØºØ³ÙŠÙ„'},{s:'KMnOâ‚„',nm:'Ø¨Ø±Ù…Ù†Ø¬Ù†Ø§Øª'},
            {s:'Kâ‚‚Crâ‚‚Oâ‚‡',nm:'Ø«Ø§Ù†ÙŠ ÙƒØ±ÙˆÙ…Ø§Øª'},{s:'CuSOâ‚„',nm:'Ø²Ø§Ø¬ Ø£Ø²Ø±Ù‚'},{s:'FeSOâ‚„',nm:'Ø²Ø§Ø¬ Ø£Ø®Ø¶Ø±'},{s:'MgSOâ‚„',nm:'Ù…Ù„Ø­ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ'},{s:'CaCOâ‚ƒ',nm:'Ø·Ø¨Ø§Ø´ÙŠØ±'},
            {s:'CaSOâ‚„',nm:'Ø¬Ø¨Ø³'},{s:'NaNOâ‚ƒ',nm:'Ù†ØªØ±Ø§Øª Ø´ÙŠÙ„ÙŠ'},{s:'KNOâ‚ƒ',nm:'Ù…Ù„Ø­ Ø¨Ø§Ø±ÙˆØ¯'},{s:'AgNOâ‚ƒ',nm:'Ù†ØªØ±Ø§Øª ÙØ¶Ø©'},{s:'NHâ‚„NOâ‚ƒ',nm:'Ù†ØªØ±Ø§Øª Ø£Ù…ÙˆÙ†ÙŠÙˆÙ…'},
            {s:'CaCâ‚‚',nm:'ÙƒØ±Ø¨ÙŠØ¯ ÙƒØ§Ù„Ø³ÙŠÙˆÙ…'},{s:'SiC',nm:'ÙƒØ±Ø¨ÙŠØ¯ Ø³ÙŠÙ„ÙŠÙƒÙˆÙ†'},{s:'BN',nm:'Ù†ÙŠØªØ±ÙŠØ¯ Ø¨ÙˆØ±ÙˆÙ†'},{s:'AlN',nm:'Ù†ÙŠØªØ±ÙŠØ¯ Ø£Ù„Ù…Ù†ÙŠÙˆÙ…'},{s:'LiH',nm:'Ù‡ÙŠØ¯Ø±ÙŠØ¯ Ù„ÙŠØ«ÙŠÙˆÙ…'},
            {s:'NaBHâ‚„',nm:'Ø¨ÙˆØ±ÙˆÙ‡ÙŠØ¯Ø±ÙŠØ¯'},{s:'LiAlHâ‚„',nm:'Ø£Ù„Ù…Ù†ÙŠÙˆÙ… Ù‡ÙŠØ¯Ø±ÙŠØ¯'},{s:'Naâ‚‚Oâ‚‚',nm:'ÙÙˆÙ‚ Ø£ÙƒØ³ÙŠØ¯ ØµÙˆØ¯ÙŠÙˆÙ…'},{s:'KOâ‚‚',nm:'Ø³ÙˆØ¨Ø± Ø£ÙƒØ³ÙŠØ¯'},{s:'BaOâ‚‚',nm:'Ø¨ÙŠØ±ÙˆÙƒØ³ÙŠØ¯ Ø¨Ø§Ø±ÙŠÙˆÙ…'}
        ].map(i=>({...i, type:'comp'}));

        // 3. Ø§Ù„Ø£Ø­Ù…Ø§Ø¶ (30+)
        const acidsDB = [
            {s:'HCl',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒÙ„ÙˆØ±ÙŠÙƒ'},{s:'Hâ‚‚SOâ‚„',nm:'ÙƒØ¨Ø±ÙŠØªÙŠÙƒ'},{s:'HNOâ‚ƒ',nm:'Ù†ÙŠØªØ±ÙŠÙƒ'},{s:'CHâ‚ƒCOOH',nm:'Ø®Ù„ÙŠÙƒ'},{s:'HF',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙÙ„ÙˆØ±ÙŠÙƒ'},
            {s:'HBr',nm:'Ù‡ÙŠØ¯Ø±ÙˆØ¨ÙˆÙ…ÙŠÙƒ'},{s:'HI',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙŠÙˆØ¯ÙŠÙƒ'},{s:'HCN',nm:'Ø³ÙŠØ§Ù†ÙŠØ¯'},{s:'HClOâ‚„',nm:'Ø¨ÙŠØ±ÙƒÙ„ÙˆØ±ÙŠÙƒ'},{s:'Hâ‚ƒPOâ‚„',nm:'ÙÙˆØ³ÙÙˆØ±ÙŠÙƒ'},
            {s:'Hâ‚‚COâ‚ƒ',nm:'ÙƒØ±Ø¨ÙˆÙ†ÙŠÙƒ'},{s:'Hâ‚‚SOâ‚ƒ',nm:'ÙƒØ¨Ø±ÙŠØªÙˆØ²'},{s:'HNOâ‚‚',nm:'Ù†ÙŠØªØ±ÙˆØ²'},{s:'HCOOH',nm:'Ù†Ù…Ù„ÙŠÙƒ'},{s:'Câ‚†Hâ‚…COOH',nm:'Ø¨Ù†Ø²ÙˆÙŠÙƒ'},
            {s:'Câ‚‚Hâ‚‚Oâ‚„',nm:'Ø£ÙƒØ³Ø§Ù„ÙŠÙƒ'},{s:'Hâ‚ƒBOâ‚ƒ',nm:'Ø¨ÙˆØ±ÙŠÙƒ'},{s:'Hâ‚‚S',nm:'ÙƒØ¨Ø±ÙŠØªÙŠØ¯ Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†'},{s:'Hâ‚‚CrOâ‚„',nm:'ÙƒØ±ÙˆÙ…ÙŠÙƒ'},{s:'HMnOâ‚„',nm:'Ø¨Ø±Ù…Ù†Ø¬Ù†ÙŠÙƒ'},
            {s:'HClO',nm:'Ù‡ÙŠØ¨ÙˆÙƒÙ„ÙˆØ±ÙˆØ²'},{s:'HClOâ‚‚',nm:'ÙƒÙ„ÙˆØ±ÙˆØ²'},{s:'HClOâ‚ƒ',nm:'ÙƒÙ„ÙˆØ±ÙŠÙƒ'},{s:'HIOâ‚ƒ',nm:'ÙŠÙˆØ¯ÙŠÙƒ'},{s:'HBrOâ‚ƒ',nm:'Ø¨Ø±ÙˆÙ…ÙŠÙƒ'},
            {s:'Hâ‚‚SiOâ‚ƒ',nm:'Ø³ÙŠÙ„ÙŠÙƒÙŠÙƒ'},{s:'Câ‚†Hâ‚ˆOâ‚‡',nm:'Ø³ØªØ±ÙŠÙƒ'},{s:'Câ‚„Hâ‚†Oâ‚†',nm:'Ø·Ø±Ø·Ø±ÙŠÙƒ'},{s:'Câ‚ƒHâ‚†Oâ‚ƒ',nm:'Ù„Ø§ÙƒØªÙŠÙƒ'}
        ].map(i=>({...i, type:'acid'}));

        // 4. Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ (20+)
        const basesDB = [
            {s:'NaOH',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ ØµÙˆØ¯ÙŠÙˆÙ…'},{s:'KOH',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…'},{s:'Ca(OH)â‚‚',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ ÙƒØ§Ù„Ø³ÙŠÙˆÙ…'},{s:'NHâ‚„OH',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø£Ù…ÙˆÙ†ÙŠÙˆÙ…'},
            {s:'Mg(OH)â‚‚',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ù…ØºÙ†ÙŠØ³ÙŠÙˆÙ…'},{s:'Al(OH)â‚ƒ',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø£Ù„Ù…Ù†ÙŠÙˆÙ…'},{s:'LiOH',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ù„ÙŠØ«ÙŠÙˆÙ…'},{s:'Ba(OH)â‚‚',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø¨Ø§Ø±ÙŠÙˆÙ…'},
            {s:'Fe(OH)â‚‚',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø­Ø¯ÙŠØ¯ II'},{s:'Fe(OH)â‚ƒ',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø­Ø¯ÙŠØ¯ III'},{s:'Zn(OH)â‚‚',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø²Ù†Ùƒ'},{s:'Cu(OH)â‚‚',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ù†Ø­Ø§Ø³'},
            {s:'Pb(OH)â‚‚',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø±ØµØ§Øµ'},{s:'Sn(OH)â‚‚',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ù‚ØµØ¯ÙŠØ±'},{s:'Sr(OH)â‚‚',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø³ØªØ±ÙˆÙ†Ø´ÙŠÙˆÙ…'},{s:'RbOH',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø±ÙˆØ¨ÙŠØ¯ÙŠÙˆÙ…'},
            {s:'CsOH',nm:'Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø³ÙŠØ²ÙŠÙˆÙ…'}
        ].map(i=>({...i, type:'base'}));

        // 5. Ø§Ù„Ø£Ù…Ù„Ø§Ø­ (40+)
        const saltsDB = [
            {s:'NaCl',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ ØµÙˆØ¯ÙŠÙˆÙ…'},{s:'KCl',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…'},{s:'CaCOâ‚ƒ',nm:'ÙƒØ±Ø¨ÙˆÙ†Ø§Øª ÙƒØ§Ù„Ø³ÙŠÙˆÙ…'},{s:'CuSOâ‚„',nm:'ÙƒØ¨Ø±ÙŠØªØ§Øª Ù†Ø­Ø§Ø³'},
            {s:'AgNOâ‚ƒ',nm:'Ù†ØªØ±Ø§Øª ÙØ¶Ø©'},{s:'KI',nm:'ÙŠÙˆØ¯ÙŠØ¯ Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…'},{s:'Naâ‚‚COâ‚ƒ',nm:'ÙƒØ±Ø¨ÙˆÙ†Ø§Øª ØµÙˆØ¯ÙŠÙˆÙ…'},{s:'NHâ‚„Cl',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø£Ù…ÙˆÙ†ÙŠÙˆÙ…'},
            {s:'CaClâ‚‚',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ ÙƒØ§Ù„Ø³ÙŠÙˆÙ…'},{s:'MgSOâ‚„',nm:'ÙƒØ¨Ø±ÙŠØªØ§Øª Ù…ØºÙ†ÙŠØ³ÙŠÙˆÙ…'},{s:'KNOâ‚ƒ',nm:'Ù†ØªØ±Ø§Øª Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…'},{s:'ZnSOâ‚„',nm:'ÙƒØ¨Ø±ÙŠØªØ§Øª Ø²Ù†Ùƒ'},
            {s:'FeClâ‚ƒ',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø­Ø¯ÙŠØ¯'},{s:'AlClâ‚ƒ',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø£Ù„Ù…Ù†ÙŠÙˆÙ…'},{s:'Naâ‚‚SOâ‚„',nm:'ÙƒØ¨Ø±ÙŠØªØ§Øª ØµÙˆØ¯ÙŠÙˆÙ…'},{s:'Kâ‚‚SOâ‚„',nm:'ÙƒØ¨Ø±ÙŠØªØ§Øª Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…'},
            {s:'Pb(NOâ‚ƒ)â‚‚',nm:'Ù†ØªØ±Ø§Øª Ø±ØµØ§Øµ'},{s:'BaClâ‚‚',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø¨Ø§Ø±ÙŠÙˆÙ…'},{s:'Naâ‚‚S',nm:'ÙƒØ¨Ø±ÙŠØªÙŠØ¯ ØµÙˆØ¯ÙŠÙˆÙ…'},{s:'KCN',nm:'Ø³ÙŠØ§Ù†ÙŠØ¯ Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…'},
            {s:'NaF',nm:'ÙÙ„ÙˆØ±ÙŠØ¯ ØµÙˆØ¯ÙŠÙˆÙ…'},{s:'NaBr',nm:'Ø¨Ø±ÙˆÙ…ÙŠØ¯ ØµÙˆØ¯ÙŠÙˆÙ…'},{s:'NaI',nm:'ÙŠÙˆØ¯ÙŠØ¯ ØµÙˆØ¯ÙŠÙˆÙ…'},{s:'CaFâ‚‚',nm:'ÙÙ„ÙˆØ±ÙŠØ¯ ÙƒØ§Ù„Ø³ÙŠÙˆÙ…'},
            {s:'MgClâ‚‚',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ Ù…ØºÙ†ÙŠØ³ÙŠÙˆÙ…'},{s:'Alâ‚‚(SOâ‚„)â‚ƒ',nm:'ÙƒØ¨Ø±ÙŠØªØ§Øª Ø£Ù„Ù…Ù†ÙŠÙˆÙ…'},{s:'FeSOâ‚„',nm:'ÙƒØ¨Ø±ÙŠØªØ§Øª Ø­Ø¯ÙŠØ¯'},{s:'CuClâ‚‚',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ Ù†Ø­Ø§Ø³'},
            {s:'AgCl',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ ÙØ¶Ø©'},{s:'BaSOâ‚„',nm:'ÙƒØ¨Ø±ÙŠØªØ§Øª Ø¨Ø§Ø±ÙŠÙˆÙ…'},{s:'PbSOâ‚„',nm:'ÙƒØ¨Ø±ÙŠØªØ§Øª Ø±ØµØ§Øµ'},{s:'ZnClâ‚‚',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø²Ù†Ùƒ'},
            {s:'HgClâ‚‚',nm:'ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø²Ø¦Ø¨Ù‚'},{s:'KClOâ‚ƒ',nm:'ÙƒÙ„ÙˆØ±Ø§Øª Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…'},{s:'NaNOâ‚‚',nm:'Ù†ÙŠØªØ±ÙŠØª ØµÙˆØ¯ÙŠÙˆÙ…'},{s:'Kâ‚‚CrOâ‚„',nm:'ÙƒØ±ÙˆÙ…Ø§Øª Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ…'}
        ].map(i=>({...i, type:'salt'}));

        // ==========================================
        // ğŸ® Ø§Ù„Ù…Ù†Ø·Ù‚
        // ==========================================
        const gridDisplay = document.getElementById('grid-display');
        const wbSurface = document.getElementById('wb-surface');
        const toastMsg = document.getElementById('toast-msg');
        let currentRating = 0;
        let benchItems = []; 

        window.onload = () => switchTab('elements');

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            gridDisplay.innerHTML = '';
            
            let data=[], cls='';
            if(tab==='elements'){data=elementsDB;}
            else if(tab==='compounds'){data=compoundsDB; cls='cat-comp';}
            else if(tab==='acids'){data=acidsDB; cls='cat-acid';}
            else if(tab==='bases'){data=basesDB; cls='cat-base';}
            else if(tab==='salts'){data=saltsDB; cls='cat-salt';}

            data.forEach(item => {
                const div = document.createElement('div');
                div.className = `item-card ${cls}`;
                div.innerHTML = `<span class="chem-number">${item.n||''}</span><span class="chem-symbol">${item.s}</span><span class="chem-name">${item.nm}</span>`;
                div.onclick = () => addToBench(item);
                gridDisplay.appendChild(div);
            });
        }

        function addToBench(item) {
            if(document.querySelector('.result-container')) cleanBench();
            if(document.getElementById('empty-msg')) document.getElementById('empty-msg').remove();
            if(benchItems.length >= 5) { showToast('ğŸ›‘ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 5 Ù…ÙˆØ§Ø¯!'); return; }

            benchItems.push(item);
            
            const beaker = document.createElement('div');
            beaker.className = 'beaker';
            
            let content = `<span style="z-index:2">${item.s}</span>`;
            const isLiquid = ['Hg','Br','Hâ‚‚O'].includes(item.s) || item.type === 'acid' || item.type === 'base';
            const isGas = ['H','He','N','O','F','Ne','Cl','Ar'].includes(item.s) || ['COâ‚‚','CHâ‚„'].includes(item.s);

            if(isLiquid) content += `<div class="liquid-fill"></div>`;
            else if(isGas) content += `<div class="smoke"></div>`;
            
            beaker.innerHTML = content;
            wbSurface.appendChild(beaker);
            if(navigator.vibrate) navigator.vibrate(15);
        }

        function cleanBench() {
            benchItems = [];
            wbSurface.innerHTML = '<div id="empty-msg" style="color:#666; font-size:0.75rem; margin:auto;">Ø£Ø¶Ù Ø§Ù„Ù…ÙˆØ§Ø¯ Ù„Ù„Ø¨Ø¯Ø¡</div>';
        }

        function doReaction() {
            if(benchItems.length < 2) { showToast('âš ï¸ Ø£Ø¶Ù Ù…Ø§Ø¯ØªÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„!'); return; }
            
            const inputSymbols = benchItems.map(i => i.s).sort();
            const inputKey = inputSymbols.join(',');

            // Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„ØªÙØ§Ø¹Ù„Ø§Øª (Ù…Ø®ØªØµØ± Ù„Ù„Ø¹Ø±Ø¶ØŒ ÙŠÙ…ÙƒÙ† Ø²ÙŠØ§Ø¯ØªÙ‡ Ø¨Ù„Ø§ Ø­Ø¯ÙˆØ¯)
            const reactions = {
                "Cl,Na": { name: "Ù…Ù„Ø­ Ø§Ù„Ø·Ø¹Ø§Ù…", eq: "Na + Cl â†’ NaCl", sym: "NaCl" },
                "H,H,O": { name: "Ù…Ø§Ø¡", eq: "2H + O â†’ Hâ‚‚O", sym: "Hâ‚‚O" },
                "Fe,O,O,O": { name: "ØµØ¯Ø£ Ø§Ù„Ø­Ø¯ÙŠØ¯", eq: "4Fe + 3Oâ‚‚ â†’ 2Feâ‚‚Oâ‚ƒ", sym: "Feâ‚‚Oâ‚ƒ" },
                "HCl,NaOH": { name: "ØªÙØ§Ø¹Ù„ ØªØ¹Ø§Ø¯Ù„", eq: "HCl + NaOH â†’ NaCl + Hâ‚‚O", sym: "NaCl+Hâ‚‚O" },
                "AgNOâ‚ƒ,NaCl": { name: "Ø±Ø§Ø³Ø¨ Ø£Ø¨ÙŠØ¶", eq: "AgNOâ‚ƒ + NaCl â†’ AgClâ†“ + NaNOâ‚ƒ", sym: "AgCl" },
                "CaCOâ‚ƒ,HCl,HCl": { name: "ÙÙˆØ±Ø§Ù† (ØºØ§Ø² COâ‚‚)", eq: "CaCOâ‚ƒ + 2HCl â†’ CaClâ‚‚ + Hâ‚‚O + COâ‚‚â†‘", sym: "COâ‚‚" }
            };

            let result = reactions[inputKey];
            
            // Ù…Ù†Ø·Ù‚ Ø¹Ø§Ù… Ù„Ù„Ø­Ù…Ø¶ ÙˆØ§Ù„Ù‚Ø§Ø¹Ø¯Ø©
            if (!result) {
                const hasAcid = benchItems.find(i => i.type === 'acid');
                const hasBase = benchItems.find(i => i.type === 'base');
                if (hasAcid && hasBase) {
                    result = { name: "ØªÙØ§Ø¹Ù„ ØªØ¹Ø§Ø¯Ù„", eq: `${hasAcid.s} + ${hasBase.s} â†’ Ù…Ù„Ø­ + Hâ‚‚O`, sym: "Ù…Ù„Ø­+Hâ‚‚O" };
                }
            }
            if (!result) result = { name: "Ù…Ø®Ù„ÙˆØ· (Ù„Ø§ ØªÙØ§Ø¹Ù„)", eq: benchItems.map(i=>i.s).join('+') + ' (Mix)', sym: "Mix" };

            wbSurface.innerHTML = '';
            const resContainer = document.createElement('div');
            resContainer.className = 'result-container';
            
            // Ø§Ù„Ø¨ÙŠÙƒØ± Ø§Ù„ÙƒØ¨ÙŠØ± (ÙŠØ³Ø§Ø±)
            const bigBeaker = document.createElement('div');
            bigBeaker.className = 'beaker beaker-large';
            let color = '#9b59b6';
            if(result.name.includes('Ù…Ø§Ø¡')) color='#3498db';
            if(result.name.includes('ØµØ¯Ø£')) color='#d35400';
            bigBeaker.innerHTML = `<div class="liquid-fill" style="background:${color}; height:60%"></div><span style="z-index:2">${result.sym}</span>`;
            
            // Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª (ÙŠÙ…ÙŠÙ†)
            const infoDiv = document.createElement('div');
            infoDiv.className = 'result-info';
            infoDiv.innerHTML = `<div class="res-name">${result.name}</div><div class="res-eq">${result.eq}</div>`;

            resContainer.appendChild(bigBeaker);
            resContainer.appendChild(infoDiv);
            wbSurface.appendChild(resContainer);
            
            showToast('âœ¨ ØªÙ… Ø§Ù„ØªÙØ§Ø¹Ù„!');
            if(navigator.vibrate) navigator.vibrate(50);
        }

        function showToast(msg) {
            toastMsg.innerText = msg; toastMsg.style.display = 'block';
            setTimeout(()=>toastMsg.style.display='none', 2000);
        }

        // Ø§Ù„ØªÙ‚ÙŠÙŠÙ… (Discord)
        document.querySelectorAll('.stars i').forEach(s => {
            s.onclick = function(){
                currentRating = this.dataset.val;
                document.querySelectorAll('.stars i').forEach(x => x.classList.toggle('active', x.dataset.val <= currentRating));
            }
        });

        function sendRating() {
            const txt = document.getElementById('rating-text').value;
            if(!currentRating) { showToast('â­ Ù‚ÙŠÙ…Ù†Ø§ Ø£ÙˆÙ„Ø§Ù‹'); return; }

            const payload = {
                username: "Ù…Ø®ØªØ¨Ø± Ø£Ø¨Ùˆ Ø³Ù…Ø±Ø©",
                embeds: [{
                    title: "ğŸŒŸ ØªÙ‚ÙŠÙŠÙ… Ø¬Ø¯ÙŠØ¯!",
                    color: 13988663, // Ù„ÙˆÙ† Ø°Ù‡Ø¨ÙŠ
                    fields: [
                        { name: "Ø§Ù„Ù†Ø¬ÙˆÙ…", value: "â­".repeat(currentRating), inline: true },
                        { name: "Ø§Ù„ØªØ¹Ù„ÙŠÙ‚", value: txt || "Ù„Ø§ ÙŠÙˆØ¬Ø¯" }
                    ],
                    timestamp: new Date()
                }]
            };

            fetch(DISCORD_WEBHOOK, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            }).then(r => {
                if(r.ok) { showToast('âœ… ÙˆØµÙ„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ù„Ø¯Ø³ÙƒÙˆØ±Ø¯!'); document.getElementById('rating-text').value=''; }
                else showToast('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');
            }).catch(() => showToast('âŒ Ù…Ø´ÙƒÙ„Ø© Ø§ØªØµØ§Ù„'));
        }
    </script>
</body>
</html>
